<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <!--
    Use only pure Javascript (no jQuery etc.).

    On load:
    1). Create square div containerSize * containerSize size.
    2). Create inside it numberOfChildren square divs which:
        - do no overlap each other
        - are fully contained within the container div
        - has size childSize * childSize
        - has random background color
        - when you hover it longer then 3 seconds it disappears

    -->
    <script>
        var onLoadCallback = function(containerSize, childSize, numberOfChildren) {
            if (!containerSize) throw new Error('container size is not defined');

            if (!childSize) throw new Error('child size is not defined');

            if (containerSize < childSize) throw new Error('container size is less than child size');

            if (!numberOfChildren) throw new Error('number of children is undefined');

            init();


            function init() {
                var container = createContainer(containerSize);
                createChildren(container, containerSize, childSize, numberOfChildren);
                attachEvent(container);
                document.body.appendChild(container);
            }

            function createContainer(size) {
                var div = document.createElement('div');
                div.style.width = div.style.height = size + 'px';

                return div;
            }

            function createChildren(container, containerSize, childSize, childNumber) {
                var containerArea = containerSize * containerSize;
                var childArea = childSize * childSize;
                var childDiv;

                while(childNumber && ((containerArea - childArea) >=0)) {
                    childDiv = document.createElement('div');
                    childDiv.style.width = childDiv.style.height = childSize + 'px';
                    childDiv.style.backgroundColor = generateBackgroundColor();
                    childDiv.className = 'pull-left';

                    container.appendChild(childDiv);

                    childNumber -= 1;
                    containerArea -= childArea;
                }

                return container;
            }

            function generateBackgroundColor() {
                var str = '#';
                var max = 100;
                var min = 10;

                for(var i = 0; i < 3; i++) {
                    str += ((Math.random() * (max - min) + min) ^ 0);
                }

                return str;
            }

            function attachEvent(container) {
                container.addEventListener('mouseover', function (event) {
                    if (event.target === this) return;

                    setTimeout(function () {
                        event.target.className = 'hidden';
                    }, 3000);

                });
            }
        };

        document.addEventListener('DOMContentLoaded', function () {
            onLoadCallback(400, 200, 4);
        });
    </script>
    <style>
        .hidden {
            display: none;
        }

        .pull-left {
            float: left;
        }
    </style>
</head>
<body>
<!-- Do not put here anything. All DOM must be generated by JS-->
</body>
</html>